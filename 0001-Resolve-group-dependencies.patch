From 4b9b0592d32922f163826b752f45e20df277782c Mon Sep 17 00:00:00 2001
From: Scott K Logan <logans@cottsay.net>
Date: Tue, 15 Sep 2020 16:52:10 -0700
Subject: [PATCH] Resolve group dependencies

Also drop the unavailable RMWs from the package.xml.

Signed-off-by: Scott K Logan <logans@cottsay.net>
---
 package.xml          | 2 --
 rpm/template.spec.em | 3 +++
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/package.xml b/package.xml
index 9948026..7daac48 100644
--- a/package.xml
+++ b/package.xml
@@ -16,9 +16,7 @@
   Bloom does not support group_depend so entries below duplicate the group rosidl_typesupport_c_packages.
   This ensures that binary packages have support for all of these rmw impl. enabled.
   -->
-  <build_depend>rosidl_typesupport_connext_c</build_depend>
   <build_depend>rosidl_typesupport_introspection_c</build_depend>
-  <build_depend>rosidl_typesupport_opensplice_c</build_depend>
   <!-- end of group rosidl_typesupport_c_packages for bloom -->
 
   <buildtool_export_depend>ament_cmake_core</buildtool_export_depend>
diff --git a/rpm/template.spec.em b/rpm/template.spec.em
index c0d00ea..4a5c39d 100644
--- a/rpm/template.spec.em
+++ b/rpm/template.spec.em
@@ -23,6 +23,9 @@ Source0:        %{name}-%{version}.tar.gz
 @[if Supplements]@\n%if 0%{?with_weak_deps}
 @[for p in Supplements]Supplements:    @p@\n@[end for]@
 %endif@\n@[end if]@
+%if 0%{?with_weak_deps}
+Suggests:       ros-eloquent-rosidl-typesupport-fastrtps-c
+%endif
 
 %description
 @(Description)
-- 
2.26.2

